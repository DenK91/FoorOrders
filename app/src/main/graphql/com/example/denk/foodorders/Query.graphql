mutation GetUserId($aFirstName:String!, $aLastName:String!){
  findOrCreateUser(firstName : $aFirstName, lastName : $aLastName)
}

query GetUsers{
  users{
    _id
    first_name
    last_name
  }
}

query GetListOrders{
  orders {
    _id
    date
    state
    admin {
      _id
      first_name
      last_name
    }
    place {
      _id
      decription
    }
  }
}

query GetOrder($orderId: String!){
 orderById(id: $orderId) {
         admin {
             first_name
             last_name
         }
         place {
            _id
            decription
         }
         date
         state
         suborders {
            author {
                first_name
                last_name
            }
            products {
                name
                description
                photo
                price
            }
         }
         comments {
            text
            author {
                first_name
                last_name
            }
         }
 }
}

mutation Comment($user: String!, $order: String!, $text: String!){
  commentOrder(user_id: $user, order_id: $order, text: $text) {
  text
              author {
                  first_name
                  last_name
              }
  }
}

query MenuByPlaceId($place: String!){
  placeById(id: $place){
    menu{
      name
      description
      photo
      price

    }
  }
}

mutation CreateOrder($userId: String!, $placeId: String!) {
  createOrder(userId: $userId, placeId: $placeId)
}

query Places {
  places {
    _id
    name
    decription
    phone
    site
  }
}